%% Mermaid C4-Components (Orchestrator focus) - skeleton
flowchart TB
  subgraph Orchestrator
    router[Policy Router]
    planner[Planner]
    executor[Task Runner]
    evaluator[Evaluator Hooks]
    retriever[Retriever]
    cache[(Cache)]
  end
  gateway[API Gateway]
  q[(Queue)]
  db[(SQL + pgvector)]
  providers[LLM Providers]
  monitor[(Monitoring/Tracing)]

  gateway --> router
  router --> planner
  planner --> retriever
  planner --> executor
  executor --> providers
  executor --> q
  executor --> db
  evaluator --> db
  router --> monitor
  executor --> monitor
  evaluator --> monitor
  retriever --> cache
